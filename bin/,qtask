#!/usr/bin/env python3
import argparse
import datetime

import helpers.email_helper as email_helper

def email_send_qtask(due_date, task, task_notes):
    subject = due_date.strftime("%-m/%-d/%Y") + ' - ' + task
    email_helper.email_send_message(subject, task_notes)
    
if __name__ == '__main__':
    parser = argparse.ArgumentParser(description='Create a quick task.')
    parser.add_argument('due_date', type=datetime.date.fromisoformat)
    parser.add_argument('task', type=str)
    parser.add_argument('task_notes', type=str, default=None, nargs='?')
    args = parser.parse_args()

    email_send_qtask(args.due_date, args.task, args.task_notes)
